// App.cpp: implementation of the App class.
//
//////////////////////////////////////////////////////////////////////

#include "stdafx.h"
#include "App.h"

App* App::app_ = null;

//----------------------------------------------------------------------------- 
// Name        : App
// Parameters  : 
// Return      : 
// Description : Constructor
//-----------------------------------------------------------------------------
App::App()
{
	core_ = null;
	hInstance_ = null;
}

//----------------------------------------------------------------------------- 
// Name        : ~App
// Parameters  : 
// Return      : 
// Description : Destructor
//-----------------------------------------------------------------------------
App::~App()
{
}

//----------------------------------------------------------------------------- 
// Name        : Instance
// Parameters  : 
// Return      : 
// Description : 
//-----------------------------------------------------------------------------
App* App::Instance()
{
	if (app_ == null)
	{
		app_ = new App;
	}
	
	return app_;
}

//----------------------------------------------------------------------------- 
// Name        : Start
// Parameters  : 
// Return      : 
// Description : 
//-----------------------------------------------------------------------------
void App::Start()
{
	core_ = new Core();
}

//----------------------------------------------------------------------------- 
// Name        : Stop
// Parameters  : 
// Return      : 
// Description : 
//-----------------------------------------------------------------------------
void App::Stop()
{
	if (core_ != null)
	{
		delete (Core*)core_;
		core_ = null;
	}

	delete this;
}

//----------------------------------------------------------------------------- 
// Name        : Core
// Parameters  : 
// Return      : 
// Description : 
//-----------------------------------------------------------------------------
ICore* App::GetCore()
{
	return core_;
}

//----------------------------------------------------------------------------- 
// Name        : StoreHinstance
// Parameters  : 
// Return      : 
// Description : 
//-----------------------------------------------------------------------------
void App::SetHinstance(HINSTANCE _hInstance)
{
	hInstance_ = _hInstance;
}

//----------------------------------------------------------------------------- 
// Name        : Hinstance
// Parameters  : 
// Return      : 
// Description : 
//-----------------------------------------------------------------------------
HINSTANCE App::GetHinstance()
{
	return hInstance_;
}